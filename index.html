<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MN3T3H8H46"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-MN3T3H8H46');
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Premier League Fixtures Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Lato:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/style-fixture-ticker.css">
  <link rel="stylesheet" href="css/style-fixture-trend.css">
</head>
<body>
  <div class="page-container">
    <div class="dashboard-heading">
      <h1>Premier League</h1>
      <div class="subheading">
        <span class="season-name header-highlight">2024-25 SEASON</span> | FIXTURES RANKED BY DIFFICULTY
      </div>
    </div>
    <p class="intro">
      Tracking Premier League fixtures using Opta's Power Rankings. All teams are ranked and fixtures are scored based on the opponent's ELO ratings. Use the charts below to find out who has the easiest or hardes set of matches.
      <br>
      <br>
      Data Sources | Opta Power Rankings (ELO Ratings) | Fantasy Premier League (Fixtures)
    </p>

      <!-- Last Updated Section -->
    <div class="last-updated-wrapper">
      <div class="last-update-divider-line"></div>
      <div class="last-updated">
        <span class="update-indicator" id="update-indicator"></span>
        Last updated: <span id="last-updated-text">June 28, 2025</span>
      </div>
      <div class="last-update-divider-line"></div>
    </div>


    <!-- Social Icons -->
    <div class="socials">
      <div class="social-icons">
        <a href="https://x.com/timbayer93" target="_blank" aria-label="Twitter">
          <img src="icons/x.svg" alt="Twitter" />
        </a>
        <a href="https://github.com/timbayer93" target="_blank" aria-label="GitHub">
          <img src="icons/github.svg" alt="GitHub" />
        </a>
         <a href="https://youtube.com/@timbeau11" target="_blank" aria-label="YouTube">
          <img src="icons/youtube.svg" alt="YouTube" />
        </a>
        <!-- Add more as needed -->
      </div>
    </div>
  
    <!-- Dashboard Config -->
    <div class="ticker-config">
      <div class="ticker-dashboard-header">Fixture Ticker</div>
          <p class="ticker-description">
              The below table ranks the fixtures of Premier League teams from 
              <span class="favourable">most favourable</span> to 
              <span class="unfavourable">least favourable</span> 
              using Opta's Power Ranking ELO scores.
          </p>
      <!-- Controls -->
        <div id="controls">
          <div class="control-group">
            <input type="number" id="active-gw" min="1" max="38">
            <label for="active-gw">Select the current or future GW</label>
          </div>
          <div class="control-group">
            <input type="number" id="num-gws" min="1" max="10" value="5">
            <label for="num-gws">the number of GWs to show</label>
          </div>

          <div class="controls-wrapper">
            <div class="control-group toggle">
              <label>
                <input type="checkbox" id="compact-toggle" />
                Compact View
              </label>
            </div>
            <div class="hover-info">
              <div class="info-tooltip-hint">
                <img src="icons/mouse-click.svg" alt="Mouse icon" />
                <span>Tap or hover for more fixture info</span>
              </div>
            </div>
          </div>
      </div>
    </div>


    <!-- Fixture Ticker Table -->
    <div class="fixture-ticker-container">
      <div class="fixture-ticker-table-container">
        <table id="fixture-ticker-table"></table>
      </div>
    </div>

    <!-- Ticker Watermark -->
    <div class="fixture-ticker-watermark">
      <div class="left">DESIGN | TIM BAYER</div>
      <div class="right">DATA | OPTA POWER RANKINGS & FANTASY PREMIER LEAGUE</div>
    </div>

    <!-- Time Decay Toggle (below table) -->
    <div class="notes-box">
      <div class="notes-header">Notes:</div>
      <div class="time-decay-toggle">
        <label for="use-decay">
          <input type="checkbox" id="use-decay" checked>
          Apply a "Time Decay" modifier to the fixture difficulty ranking
        </label>
      </div>
      <span class="decay-explainer">
        The fixture difficulty uses a time decay which means sooner fixtures are more important than those in the future. E.g., GW1 fixtures carry more weight than GW2, GW3, and so on. If you like to view the difficulty of fixtures regardless of when they take place turn the toggle OFF.
      </span>
    </div>

    <!-- Tooltip -->
    <div id="tooltip" class="ticker-tooltip" style="display: none;"></div>


    <!-- Fixture Trend Chart -->
    <div id="fixture-trend" class="fixture-trend-chart-container"></div>


    <footer class="page-footer">
      <div class="footer-content">
        <p>DESIGN & DEV | TIM BAYER </p>
        <p>DATA | <a href="https://theanalyst.com/articles/who-are-the-best-football-team-in-the-world-opta-power-rankings" target="_blank">OPTA POWER RANKINGS</a> AND <a href="https://fantasy.premierleague.com/" target="_blank">FANTASY PREMIER LEAGUE</a>.</p>
        <p>DESIGN INSPIRATION | PETER MCKEEVER | TODD WHITEHEAD | KINSEY MILLER </p>
        <p>Built with ❤️ using D3.js | <a href="https://github.com/timbayer93" target="_blank">GitHub</a></p>
      </div>
    </footer>
  
    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/fixture-ticker.js"></script>
    <script src="js/fixutre-trend.js"></script>

  </div>
</body>
</html>
